@import 'nib'

$font-fancy = 'Amatic SC', 'Arial', serif
$font-normal = 'Lato', 'Arial', sans-serif

$color-light = #e5f7d1
$color-medium-light = #e8e0a1
$color-medium = #abb868
$color-medium-dark = #6c804b
$color-dark = #ffbd66

$color-story = $color-dark
$color-people = #fff8ac
$color-event = #ff9999
$color-gifts = $color-medium
$color-rsvp = #a89fff

$color-border = #f0f0f0

$size-nav-height = 55px
$size-content-padding = 30px
$size-content-width = 960px

$ratio-carousel-height = 1.6

body
  background-image url(../img/linen.jpg)
  font-family $font-normal

h1, h2, h3, h4, h5, h6
  font-family $font-fancy
  font-weight 700
  text-align center

  margin-bottom $size-content-padding
  padding 0.1em

  border-top 10px solid $color-border
  border-bottom @border-top

  width 150%
  margin-left -25%

  color black

h1
  font-size 75px

h2
  font-size 40px

article
  font-size 18px
  line-height 1.3em

  p
    text-align justify
    &~ p
      margin-top 1.7em

  sup
    font-size 0.75em
    line-height 1em
    vertical-align 0.35em

  sub
    font-size 0.6em
    line-height 1em

  a
    display inline-block
    color darken($color-medium, 25%)

    text-decoration none
    transition color 60ms

    &:visited
      color @color
    &:active
      color $color-medium
    &:hover
      text-decoration underline

address
  font-size 1em
  font-style normal

  margin-top 0.5em
  margin-bottom @margin-top

  text-align center

// navigation
nav
  position fixed
  top 0
  right 0
  left 0

  text-align center

  background-color white
  box-shadow 0 0 10px rgba(black, 0.5)
  user-select none

  z-index 1

  .nav-link
    display inline-block

    // fix spacing caused by the links being on different lines
    margin-left -0.13333em

    font-family $font-fancy
    font-size 35px
    color black
    text-decoration none

    line-height $size-nav-height
    padding-left 1em
    padding-right @padding-left

    transition-property background-color, color
    transition-duration 150ms

    &:hover
    &:active
    &:visited
      color @color
      text-decoration @text-decoration

    &:hover
      &.story
        background-color lighten($color-story, 60%)
      &.people
        background-color lighten($color-people, 60%)
      &.event
        background-color lighten($color-event, 60%)
      &.gifts
        background-color lighten($color-gifts, 60%)
      &.rsvp
        background-color lighten($color-rsvp, 60%)

.carousel
  clearfix()

  // force 3D acceleration where available
  transform translateZ(0)

  position relative
  overflow hidden

  border-width 10px
  // border-radius 2px
  border-style solid
  border-color $color-border

  background-color @border-color

  box-shadow 0 0 10px rgba(black, 0.5)

  .carousel-image
    background-size cover
    background-position center

  .scroller
    height 100%
    width 10000px

    transition margin-left 1s

    .carousel-image
      width auto // set to fit parent by javascript
      height 100%

      float left

  &:hover
    .thumbnails
      opacity 1

  .thumbnails
    opacity 0
    transition opacity 300ms

    position absolute
    left 0
    right 0
    bottom 0

    background-color rgba(black, 0.7)

    text-align center

    .carousel-image
      display inline-block
      width 50px
      height @width
      border-radius 100% // circular
      background-color white

      cursor pointer

      margin 1.5%
      margin-top @margin * 1.3
      margin-bottom @margin-top

      border 2px solid white

      transition-property border-color, opacity
      transition-duration 300ms
      opacity 0.6

      &.selected
        opacity 1

      &:hover
        opacity 1

// information
#content
  width $size-content-width
  padding-top $size-nav-height

  margin-left auto
  margin-right auto

  padding-bottom $size-content-padding * 1.5

  > section
    position relative
    overflow hidden

    width $size-content-width - (2 * $size-content-padding)
    padding $size-content-padding

    background-color white
    box-shadow 0 0 20px rgba(black, 0.5)
    border-radius 2px

    margin-top 40px

    // color navs differently
    &.story h1
      background-color $color-story
    &.people h2
      background-color $color-people
    &.event h2
      background-color $color-event
    &.gifts h2
      background-color $color-gifts
    &.rsvp h2
      background-color $color-rsvp

#story
  // pictures of the bride and groom
  .carousel
    width $size-content-width - (2 * ($size-content-padding + 10px))
    height (@width / $ratio-carousel-height)

    .carousel-image.selected
      border-color $color-story

.map
  border 1px solid darken($color-border, 33%)

#event
  article
    float left
    width 40%

  // pictures of the event
  .carousel
    float right
    width 55%
    height (($size-content-width * (@width / 100)) / $ratio-carousel-height)px

    .thumbnails
      .carousel-image
        width 34px
        height @width

        &.selected
          border-color $color-event

    margin-right -15px

.registry-button
  display inline-block
  transition opacity 250ms

  img
    display block

  &:hover
    opacity 0.6

#gifts
  article
    width 47.5%
    float left

    &~ article
      margin-left 5%

  figure
    text-align center

    .registry-button
      width 49%
